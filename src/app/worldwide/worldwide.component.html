<div *ngIf="auth.user$ | async; then authenticated else guest">
    <!-- template will replace this div -->
</div>

<!-- User NOT logged in -->
<ng-template #guest>
    <h3>Hello, GUEST</h3>
    <p>Login to get started...</p>

    <button class="btn btn-info" style="float: right;  margin-top: 3px;
    margin-right: 4px;
    position:absolute;
    top:0;
    right:0;" (click)="auth.googleSignin()">
        <i class="fa fa-google"></i> Connect Google
    </button>

</ng-template>


<!-- User logged in -->
<ng-template #authenticated>
    <div *ngIf="auth.user$ | async as user">
        <h3>Hello, {{ user.displayName }}</h3>
        <a [routerLink]="['/news']">Add news</a>
        <button class="btn btn-info" style="float: right;  margin-top: 3px;
        margin-right: 4px;
        position:absolute;
        top:0;
        right:0;" (click)="auth.signOut()">Logout</button>
    </div>
</ng-template>






<div class="my-3">
    <table class='table borderless'>
        <thead>
            <tr>
                <td style="background-color:#F6FAFB;font-weight:bold;">
                    Corona Virus Summary Worldwide

                </td>
            </tr>
        </thead>
    </table>
    <table class="table table-bordered table-striped">
        <tr style="background-color:#FDE29D">

            <td> Total Cases</td>
            <td>{{ Global.Global.TotalConfirmed }}</td>

        </tr>
        <tr style="background-color:#FDE29D">
            <td> New Cases</td>
            <td>{{ Global.Global.NewConfirmed }}</td>
        </tr>
        <tr style="background-color:#FDE29D">
            <td> Active Cases</td>
            <td>{{ Global.Global.TotalConfirmed - Global.Global.TotalRecovered }}</td>
        </tr>
        <tr style="background-color:#87C7F3">

            <td> Total Recovered</td>
            <td>{{ Global.Global.TotalRecovered }}</td>

        </tr>
        <tr style="background-color:#87C7F3">
            <td> New Recovered</td>
            <td>{{ Global.Global.NewRecovered }}</td>

        </tr>
        <tr style="background-color:#87C7F3">
            <td> Recovery Rate</td>
            <td>{{ (Global.Global.TotalRecovered / Global.Global.TotalConfirmed)*100| number : '1.2-2' }}%</td>

        </tr>
        <tr style="background-color:#ED97AB">

            <td> Total Deaths</td>
            <td>{{ Global.Global.TotalDeaths }}</td>

        </tr>
        <tr style="background-color:#ED97AB">
            <td> New Deaths</td>
            <td>{{ Global.Global.NewDeaths }}</td>

        </tr>
        <tr style="background-color:#ED97AB">
            <td> Moratality Rate</td>
            <td>{{ (Global.Global.TotalDeaths / Global.Global.TotalConfirmed)*100| number : '1.2-2' }}%</td>
        </tr>
    </table>


    <table class='table borderless'>
        <thead>
            <tr>
                <td style="background-color:#F6FAFB;font-weight:bold;">
                    Corona Virus Cases Distribution Worldwide
                </td>
            </tr>
        </thead>
    </table>




    <div class="chart-wrapper">
        <canvas baseChart [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType"
            [options]="pieChartOptions" [legend]="pieChartLegend" [colors]="pieChartColors">
        </canvas>
    </div>
</div>
<br>



<div class="my-3">
    <table class='table borderless'>
        <thead>
            <tr>
                <td style="background-color:#F6FAFB;font-weight:bold;">
                    Daily Corona Virus Worldwide
                </td>
            </tr>
        </thead>
    </table>




    <div class="chartjs-container">
        <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions"
            [plugins]="barChartPlugins" [legend]="barChartLegend" [chartType]="barChartType">
        </canvas>
    </div>
    <br>




    <div class="my-3">
        <table class='table borderless'>
            <thead>
                <tr>
                    <td style="background-color:#F6FAFB;font-weight:bold;">
                        Total Corona Virus Cases Worldwide

                    </td>
                </tr>
            </thead>
        </table>



        <div class="chartjs-container">
            <canvas baseChart [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions"
                [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType"
                [plugins]="lineChartPlugins" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
            </canvas>
        </div>




        <div class="my-3">
            <table class='table borderless'>
                <thead>
                    <tr>
                        <td style="background-color:#F6FAFB;font-weight:bold;">
                            Corona Virus Cases by Country

                        </td>
                    </tr>
                </thead>
            </table>


            <table class="table table-bordered table-striped">
                <th style="background-color:#6C767D"> Country</th>
                <th style="background-color:#FDE29D"> New Cases</th>
                <th style="background-color:#FDE29D"> Total Cases</th>
                <th style="background-color:#87C7F3"> New Recoveries</th>
                <th style="background-color:#87C7F3"> Total Recoveries</th>
                <th style="background-color:#ED97AB"> New Deaths</th>
                <th style="background-color:#ED97AB"> Total Deaths</th>
                <tbody>
                    <tr *ngFor="let h of Countries.Countries">
                        <td style="background-color:#6C767D">
                            <a [routerLink]="['/detail',h.CountryCode]" [state]=h>{{ h.Country }} </a>
                        </td>
                        <td style="background-color:#FDE29D">{{ h.NewConfirmed }}</td>
                        <td style="background-color:#FDE29D">{{ h.TotalConfirmed }}</td>
                        <td style="background-color:#87C7F3">{{ h.NewRecovered }}</td>
                        <td style="background-color:#87C7F3">{{ h.TotalRecovered }}</td>
                        <td style="background-color:#ED97AB">{{ h.NewDeaths }}</td>
                        <td style="background-color:#ED97AB">{{ h.TotalDeaths }}</td>
                    </tr>
                <tbody>
            </table>


            <div class="my-3">
                <table class='table borderless'>
                    <thead>
                        <tr>
                            <td style="background-color:#F6FAFB;font-weight:bold;">
                                News from User

                            </td>
                        </tr>
                    </thead>
                </table>
            </div>

            <table class="table table-bordered table-striped">
                <th style="background-color:#F6FAFB"> Country</th>
                <th style="background-color:#F6FAFB"> News</th>

                <tbody>
                    <tr *ngFor="let h of news">

                        <td>{{ h.country }}</td>
                        <td>{{ h.newss }}</td>

                    </tr>
                </tbody>
            </table>









            <div class="my-3">
                <table class='table borderless'>
                    <thead>
                        <tr>
                            <td style="background-color:#F6FAFB;font-weight:bold;">
                                <center> Data source : <a href="https://covid19api.com/"> https://covid19api.com/
                                        Johns
                                        Hopkins
                                        CSSE</a> </center>
                            </td>
                        </tr>
                    </thead>
                </table>

                <div>